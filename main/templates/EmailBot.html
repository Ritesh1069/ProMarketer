{% load static %}
<head>
    <script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    #home{
         width: 100%;
         height: 100%;
         background-color: #222;
         position: absolute;
         top: 0px;
         left: 0px;
        }
        .navbar{
        display: flex;
        height: 50px;
        align-items: center;
        justify-content: space-between;
        background: #181818;
        width: 100%;
        position: relative;
     }

     .navbar img{
        height: 40px;
        margin: 10px 10px;
        color: wheat;
     }
    #logo{
        width: 10%;
        height: 6.7%;
        top: 3px;
        left: 1%;
        position: absolute;
    }
    #menubar{
        width: 3.4%;
        height: 5%;
        top: 1.3%;
        right: 1%;
        position: absolute;
        color: rgb(231, 231, 231);
        background-color: rgb(195, 195, 195);
        border-radius: 6px;
    }
    #color_block{
        height: 92.3%;
        right: 0px;
        width: 50%;
        background: #ff7051;
        position: absolute;
        /* top: ; */
    }
    #heading{
        color: #FFF;
font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
font-size: 32px;
font-style: normal;
font-weight: 800;
line-height: normal;
margin-left: 4%;
margin-top: -1%;
    }
    #heading p{
        position: absolute;
        color: #FFF;
font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
font-size: 14px;
font-style: normal;
font-weight: 400;
line-height: normal;
width: 42%;
top: 24%;
left: 4%;
    }
    
    #f_image{
        position: absolute;
        height: 58%;
        width: auto;
        left: 14%;
        top: 41%;
    }
    #form{
        width: 46%;
        height: 82%;
        background-color: white;
        position: absolute;
        right: 2%;
        top: 16%;
        border-radius: 5px;
    }
#design{
    position: absolute;
    width: 46%;
    right: 2%;
    top: 14%;
    border-radius: 10px;
    height: 17%;
    background-color: rgb(166, 0, 255);
    background-image: url('https://tse3.mm.bing.net/th?id=OIP.YeWSVBTUzNl2gdWWdXAS1AHaHa&pid=Api&P=0&h=220');
    background-size: 150px;
}
#form h3{
    position: absolute;
    color: rgb(24, 24, 24);
    top: 17%;
    left: 4%;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-size: 20px;
}
#email{
    top: 25%;
    bottom: 10%;
    position: absolute;
    height: 23%;
    width: 92%;
    background-color: rgb(172, 172, 172);
    border: none;
    border-radius: 5px;
    left: 4%;
}
#form p{
    position: absolute;
    color: rgb(24, 24, 24);
    top: 51%;
    left: 4%;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-size: 20px;
    font-weight: bold;
}
#content{
    top: 60%;
    position: absolute;
    height: 22%;
    width: 92%;
    background-color: rgb(172, 172, 172);
    border: none;
    border-radius: 5px;
    left: 4%;
}
#submit{
        width: 120px;
        height: 40px;
        border-radius: 7px;
        color: #ffffff;
        background-color: #9d14ff;
        top: 90%;
        margin-left: 40%;
        font-size: 15px;
        position: absolute;
        border: none;      
    }
 
#submit:hover {background-color: #ff7051}

#submit:active {
  background-color: #ff7051;
  box-shadow: 0 5px #f4431c;
  transform: translateY(4px);
}  

#reply {
margin-top: 620px;
margin-left: 25%;
}

<!-- upload section-->
#upld {
    
    height: 200px;
    width: 100%;
}
#upload-pic {
    margin-top: 150px;
    height: 180px;
    margin-left: 27%;
    border-style: dashed;
    border-width: 2px;
    border-radius: 6%;
    padding: 1% 10%;
    margin-bottom: -2%;
}
#upload-pic:hover{
    background-color: rgb(172, 172, 172);
}
#upld-text{
    margin-left: -25%;
}

#upld-title{
    margin-top: -25%;
    font-size: 1000px;
    z-index: 9;
}

#filename-text{
    margin-left: 8%;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-size: 18px;
    font-weight: 300px;
}
    </style>
</head>
<main>
    <script>
        function getFileName() 
    {
            var x = document.getElementById('email')
            document.getElementById('fileName').innerHTML = x.value.split('\\').pop()
    }
    </script>
    <div id="home">
        <div class="navbar">
            <a href="index.html"><<img src="{% static 'logo1.jpeg' %}" alt=""></a>
            <a href="index.html"><img src="{% static 'whiteMenu.svg' %}" alt=""></a>
         </div>
        <div id="color_block"></div>
        <div id="heading">
            <h3>Email Marketing Bot</h3>
            <p>Email marketing is a type of social media marketing, which involves promoting
                a brand on Instagram. This social media platform helps brands connect with an
                enormous audience, increase brand awareness, and boost sales. It is the most efective way o Marketing</p>
           
        </div>
        <img id="f_image" src="https://www.jing.fm/clipimg/full/430-4306137_email-marketing-hull-graphic-isometric-business-illustration.png" alt="">
        <div id="form">
            <form id="post-form">
                {% csrf_token %}

                <div id="upld">
                    <br>
                    <p id="upld-title"> Upload Email's : </p>
                    <label class="w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-white">
                        <svg id="upload-pic" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                            <path d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z" />
                        </svg>
                        <span id="upld-text">Select a file</span>
                        <input id="email" name="email" type='file' hidden onchange="getFileName()">
                    </label>
                    <br><br>
                    
                    <span id="filename-text">File name: <span id="fileName" class="text-primary "> </span></span>
                </div>

              <br>
              <p>Provide Content for marketing </p>
              <input id="content" name="content" type="text" placeholder="enter the message">
              <div id="reply"></div>
              <button type="submit" id="submit">Submit</button>
              </form>                
            </div>
            <div id="design"></div> 
    </div>
    

<script type="text/javascript">
    $(document).on('submit','#post-form',function(e){
      e.preventDefault();
  
      $.ajax({
        type:'POST',
        url:'/email',
        data:{
          email:$('#email').val(),
          content:$('#content').val(),
          csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val(),
        },
        success: function(){
            document.getElementById("reply").innerHTML = "<h1>successfully sent the emails</h1>";         
        }
      });
    });
  </script>
